# ezHome Controller activation flow
This flow describes the process of activation for each controller and the security protocol used for comunication with remote server asuring maximum security for both sides.

## Local private and public key
The first step after instalation of ezHome controller is the generation of public and private keys. This is done internally by ezHome Security Manager and
this keys are stored only locally with the controller. The private key can never be transmited to another device, as this can destroy all the security process. 
Public keys are transmitted as needed.

## Certificate Signing Request (CSR)
After the generation of keys, next is to generate the CSR or Certificate Signing Request. This is needed for ezHome remote servers generate a certificate.
This request includes data about your controller and necessary keys for the certificate generation. 

## ezHome CA (Certificate Authority)
The ezHome CA is the main Certication Authority responsible for all controller certificates. This is de CA for all certificates generated by CSRs transmitted.

## Certificate generation
The CSR are now transmitted to ezHome remote servers and the servers are responsible for the generation of a secure and unique certificate that will be returned.
After that, the controller is just identified by its certificate and no other data is necessary.

## Communications
After all process done, all communications between controller and ezHome remote server are done via SSL (https) using both server and client certificates, based on 
ezHome CA. This asures criptografic data.

